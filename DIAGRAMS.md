# ğŸ“Š Project Pluto - Visual Diagrams# ğŸ“Š Project Pluto - Visual Diagrams



## ğŸ—ºï¸ System Overview Diagram - Vision-Driven Reflex Agent## ğŸ—ºï¸ System Overview Diagram



``````

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â•‘                         ğŸª PROJECT PLUTO v2.0                         â•‘â•‘                         ğŸª PROJECT PLUTO                              â•‘

â•‘         Vision-Driven Reflex Agent Voice Assistant                    â•‘â•‘              Offline Voice Assistant Test Architecture                â•‘

â•‘              (4-Worker Architecture + Face Detection)                 â•‘â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ‘¤ USER                          ğŸ–¥ï¸  LAPTOP

    ğŸ‘¤ USER                          ğŸ“¹ CAMERA                ğŸ¤ MICROPHONE     â”‚                                  â”‚

     â”‚                                  â”‚                          â”‚     â”‚ speaks                           â”‚

     â”‚ appears                          â”‚ rpicam-vid               â”‚ (paused until     â–¼                                  â”‚

     â–¼                                  â–¼  @ 320x240, 10fps        â”‚  face locked)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚â”‚  ğŸ¤ MICROPHONE  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”‚              VISION WORKER (YuNet)                   â”‚             â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚             â”‚         â”‚ Raw Audio (16kHz)

â”‚  â”‚  rpicam    â”‚â”€â–¶â”‚ YuNet INT8  â”‚â”€â–¶â”‚  Face Lock    â”‚ â”‚             â”‚         â–¼

â”‚  â”‚  Process   â”‚  â”‚  Detector   â”‚  â”‚    Logic      â”‚ â”‚             â”‚â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â”‚  â”‚  Capture   â”‚  â”‚   2.5MB     â”‚  â”‚  (Track ID)   â”‚ â”‚             â”‚â•‘                    STT WORKER (Vosk)                               â•‘

â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚             â”‚â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘

â”‚           Terminal Preview (SSH): ASCII Art          â”‚             â”‚â•‘  â”‚ PyAudio  â”‚â”€â”€â–¶â”‚ VAD  â”‚â”€â”€â–¶â”‚ Vosk Model â”‚â”€â”€â–¶â”‚ Text Transcript  â”‚ â•‘

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚â•‘  â”‚ Capture  â”‚   â”‚Energyâ”‚   â”‚   ~40MB    â”‚   â”‚                  â”‚ â•‘

               â”‚ {"type": "face_detected", "face_id": 12345}         â”‚â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘

               â–¼                                                     â”‚â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚         â”‚ {"type": "transcript", "text": "hello"}

      â”‚ QUEUE: Visionâ†’Orch  â”‚ (Face events)                          â”‚         â–¼

      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                 â”‚                                                   â”‚    â”‚  QUEUE 1: STTâ†’LLM â”‚  (Thread-safe, max 10 items)

                 â–¼                                                   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—         â”‚ Transcript

â•‘                     ğŸª ORCHESTRATOR                                   â•‘         â–¼

â•‘          (State Manager + Worker Coordinator)                         â•‘â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â•‘                                                                        â•‘â•‘                  LLM WORKER (Ollama + Qwen2.5)                     â•‘

â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â•‘â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘

â•‘  â”‚  Agent State     â”‚     â”‚  Face Event Processor          â”‚         â•‘â•‘  â”‚  Receive   â”‚â”€â”€â–¶â”‚  Ollama  â”‚â”€â”€â–¶â”‚  Qwen2.5    â”‚â”€â”€â–¶â”‚ Response  â”‚  â•‘

â•‘  â”‚  Machine         â”‚     â”‚  â€¢ face_detected â†’ Greet      â”‚         â•‘â•‘  â”‚ Transcript â”‚   â”‚ HTTP API â”‚   â”‚  1.5B-q4    â”‚  â”‚   Text    â”‚  â•‘

â•‘  â”‚  IDLE â†’ LOCKED   â”‚     â”‚  â€¢ face_lost â†’ Reset          â”‚         â•‘â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘

â•‘  â”‚  â†’ GREETING â†’... â”‚     â”‚  â€¢ Controls STT pause/resume  â”‚         â•‘â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•‘         â”‚ {"type": "response", "text": "Hi there!"}

â•‘                                                                        â•‘         â–¼

â•‘  Face locked? â†’ Resume STT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â•‘  Face lost? â†’ Pause STT, Clear history                         â”‚      â•‘    â”‚  QUEUE 2: LLMâ†’TTS â”‚  (Thread-safe, max 10 items)

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚â•â•â•â•â•â•â•    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜

                                                                 â”‚         â”‚ Response

                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â–¼

                 â”‚ {"type": "greeting", "text": "Hi there!"}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

                 â–¼â•‘                   TTS WORKER (Piper)                               â•‘

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘

â•‘                    STT WORKER (Whisper Tiny)                          â•‘â•‘  â”‚  Receive   â”‚â”€â”€â–¶â”‚  Piper   â”‚â”€â”€â–¶â”‚   WAV    â”‚â”€â”€â–¶â”‚  PyAudio    â”‚  â•‘

â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘â•‘  â”‚  Response  â”‚   â”‚  ONNX    â”‚   â”‚  22kHz   â”‚   â”‚  Playback   â”‚  â•‘

â•‘  â”‚ PyAudio  â”‚â”€â”€â–¶â”‚ VAD  â”‚â”€â”€â–¶â”‚  Whisper   â”‚â”€â”€â–¶â”‚ Text Transcript  â”‚    â•‘â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘

â•‘  â”‚ Capture  â”‚   â”‚Energyâ”‚   â”‚  Tiny 39MB â”‚   â”‚                  â”‚    â•‘â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘         â”‚ Audio Output

â•‘                          â¸ï¸ PAUSE/RESUME Control                       â•‘         â–¼

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

         â”‚ {"type": "transcript", "text": "what's the weather"}â”‚  ğŸ”Š SPEAKERS    â”‚

         â–¼â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚

    â”‚  QUEUE: STTâ†’LLM     â”‚  (Thread-safe, max 10)         â–¼

    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     ğŸ‘¤ USER hears response

         â”‚ Transcript or Greeting

         â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â•‘                  LLM WORKER (Ollama + Qwen2.5)                        â•‘         â±ï¸  METRICS LOGGER (Continuous Monitoring)

â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â•‘  â”‚  Receive   â”‚â”€â”€â–¶â”‚  Ollama  â”‚â”€â”€â–¶â”‚ Qwen2.5:0.5bâ”‚â”€â”€â–¶â”‚ Response  â”‚     â•‘    â”‚  ğŸ“Š Latencies | ğŸ’¾ Memory | ğŸ“¦ Queue Depths         â”‚

â•‘  â”‚ Text Input â”‚   â”‚ HTTP API â”‚   â”‚     q4_k_M  â”‚  â”‚   Text    â”‚     â•‘    â”‚  â”œâ”€ STT: 100-200ms                                  â”‚

â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘    â”‚  â”œâ”€ LLM: 500-1500ms  âš ï¸  BOTTLENECK                â”‚

â•‘          Context: Face present? Keep history                          â•‘    â”‚  â”œâ”€ TTS: 200-500ms                                  â”‚

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚  â””â”€ Total: 800-2200ms                               â”‚

         â”‚ {"type": "response", "text": "It's sunny today!"}    â”‚                                                      â”‚

         â–¼    â”‚  Output: CSV + JSON + Console + Summary             â”‚

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”‚  QUEUE: LLMâ†’TTS     â”‚  (Thread-safe, max 10)

    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

         â”‚ Response```

         â–¼

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—---

â•‘                   TTS WORKER (Piper)                                  â•‘

â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘## ğŸ§µ Thread Architecture

â•‘  â”‚  Receive   â”‚â”€â”€â–¶â”‚  Piper   â”‚â”€â”€â–¶â”‚   WAV    â”‚â”€â”€â–¶â”‚  PyAudio    â”‚     â•‘

â•‘  â”‚  Response  â”‚   â”‚  en_US   â”‚   â”‚  Audio   â”‚   â”‚  Playback   â”‚     â•‘```

â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚                       MAIN PROCESS                                  â”‚

         â”‚ Audio Outputâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

         â–¼â”‚                                                                     â”‚

    ğŸ”Š SPEAKER â”€â”€â–¶ ğŸ‘¤ USER hears responseâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚

```â”‚  â”‚  Main Thread (Orchestrator)                                â”‚   â”‚

â”‚  â”‚  - Initialize workers                                      â”‚   â”‚

---â”‚  â”‚  - Monitor system health                                   â”‚   â”‚

â”‚  â”‚  - Handle shutdown signals                                 â”‚   â”‚

## ğŸ”„ State Machine Diagramâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚

â”‚                                                                     â”‚

```â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â”‚  â”‚  STT Worker Thread (daemon)                                â”‚   â”‚

â•‘              PLUTO REFLEX AGENT STATE MACHINE                      â•‘â”‚  â”‚  while running:                                            â”‚   â”‚

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚  â”‚      audio_data = stream.read()                            â”‚   â”‚

â”‚  â”‚      if is_speech(audio_data):                             â”‚   â”‚

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚          text = vosk.recognize(audio_data)                 â”‚   â”‚

    â”‚                                                         â”‚â”‚  â”‚          stt_to_llm_queue.put(text)                        â”‚   â”‚

    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚

    â”‚   â”‚  IDLE   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚                                                                     â”‚

    â”‚   â”‚         â”‚  Face lost timeout (1.5s)             â”‚   â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚

    â”‚   â”‚ Vision: â”‚  OR person leaves                     â”‚   â”‚â”‚  â”‚  LLM Worker Thread (daemon)                                â”‚   â”‚

    â”‚   â”‚Scanning â”‚                                       â”‚   â”‚â”‚  â”‚  while running:                                            â”‚   â”‚

    â”‚   â”‚ STT:    â”‚                                       â”‚   â”‚â”‚  â”‚      transcript = stt_to_llm_queue.get(timeout=1)          â”‚   â”‚

    â”‚   â”‚ Paused  â”‚                                       â”‚   â”‚â”‚  â”‚      response = ollama.generate(transcript)                â”‚   â”‚

    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚      llm_to_tts_queue.put(response)                        â”‚   â”‚

    â”‚        â”‚                                        â”‚ FACE_LOST  â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚

    â”‚        â”‚ Face detected (3+ frames)              â”‚            â”‚â”‚                                                                     â”‚

    â”‚        â”‚                                        â”‚ â€¢ Clear    â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚

    â”‚        â–¼                                        â”‚   history  â”‚â”‚  â”‚  TTS Worker Thread (daemon)                                â”‚   â”‚

    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚ â€¢ Unlock   â”‚â”‚  â”‚  while running:                                            â”‚   â”‚

    â”‚   â”‚FACE_DETECTED â”‚                             â”‚   face     â”‚â”‚  â”‚      response = llm_to_tts_queue.get(timeout=1)            â”‚   â”‚

    â”‚   â”‚              â”‚                             â”‚ â€¢ Pause STTâ”‚â”‚  â”‚      wav = piper.synthesize(response)                      â”‚   â”‚

    â”‚   â”‚ â€¢ Assign ID  â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚      audio.play(wav)                                       â”‚   â”‚

    â”‚   â”‚ â€¢ Lock face  â”‚                                      â–²â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚

    â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚â”‚                                                                     â”‚

    â”‚          â”‚                                              â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚

    â”‚          â”‚ Orchestrator prepares                        â”‚â”‚  â”‚  Health Monitor Thread (daemon, optional)                  â”‚   â”‚

    â”‚          â–¼                                              â”‚â”‚  â”‚  while running:                                            â”‚   â”‚

    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚â”‚  â”‚      time.sleep(health_check_interval)                     â”‚   â”‚

    â”‚   â”‚  LOCKED_IN   â”‚                                      â”‚â”‚  â”‚      log_memory_usage()                                    â”‚   â”‚

    â”‚   â”‚              â”‚                                      â”‚â”‚  â”‚      log_queue_depths()                                    â”‚   â”‚

    â”‚   â”‚ Face locked  â”‚                                      â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚

    â”‚   â”‚ to person    â”‚                                      â”‚â”‚                                                                     â”‚

    â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”‚          â”‚                                              â”‚```

    â”‚          â”‚ Inject greeting                              â”‚

    â”‚          â–¼                                              â”‚---

    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚

    â”‚   â”‚   GREETING   â”‚                                      â”‚## ğŸ“¦ Queue Message Flow

    â”‚   â”‚              â”‚                                      â”‚

    â”‚   â”‚ LLM generatesâ”‚                                      â”‚```

    â”‚   â”‚ welcome msg  â”‚                                      â”‚CONVERSATION CYCLE (Single User Query â†’ Response)

    â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚

    â”‚          â”‚                                              â”‚Time   Component      Action                    Queue State

    â”‚          â”‚ TTS plays greeting                           â”‚â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    â”‚          â–¼                                              â”‚0ms    User           Starts speaking           Empty

    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚...    STT            Capturing audio           Empty

    â”‚   â”‚  LISTENING   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚2000ms STT            Silence detected          Empty

    â”‚   â”‚              â”‚              â”‚                       â”‚2150ms STT            Vosk inference complete   Empty

    â”‚   â”‚ STT: Active  â”‚              â”‚ TTS done              â”‚2151ms STT            put(transcript)           Q1: [transcript]

    â”‚   â”‚ Waiting for  â”‚              â”‚                       â”‚

    â”‚   â”‚ user speech  â”‚              â”‚                       â”‚2152ms LLM            get(transcript)           Q1: Empty

    â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                       â”‚2153ms LLM            Ollama API call...        Q1: Empty, Q2: Empty

    â”‚          â”‚                  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚2850ms LLM            Response received         Q1: Empty, Q2: Empty

    â”‚          â”‚ User speaks      â”‚ RESPONDING â”‚              â”‚2851ms LLM            put(response)             Q1: Empty, Q2: [response]

    â”‚          â–¼                  â”‚            â”‚              â”‚

    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ TTS plays  â”‚              â”‚2852ms TTS            get(response)             Q1: Empty, Q2: Empty

    â”‚   â”‚ PROCESSING   â”‚          â”‚ response   â”‚              â”‚2853ms TTS            Piper synthesis...        Q1: Empty, Q2: Empty

    â”‚   â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶            â”‚              â”‚3150ms TTS            WAV ready, playing        Q1: Empty, Q2: Empty

    â”‚   â”‚ LLM thinking â”‚ Response  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚4000ms TTS            Playback complete         Q1: Empty, Q2: Empty

    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ready                                â”‚

    â”‚                                                          â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”‚   Vision Worker: Continuously tracking face in backgroundâ”‚Total Latency: 4000ms (from speech start to playback end)

    â”‚   â€¢ If face lost for 1.5s â†’ FACE_LOST state             â”‚User-Perceived Latency: 2000ms (from silence to speech start)

    â”‚   â€¢ Tracks face position, updates metrics               â”‚```

    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```---



---## ğŸ“ˆ Latency Waterfall



## ğŸ¯ Vision System Flow```

User speaks: "Hello"

```â”‚

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â”œâ”€ [0ms â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2000ms] User Speaking + Silence Detection

â•‘                  VISION WORKER - FACE DETECTION FLOW               â•‘â”‚                                (STT waiting for silence)

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚

â””â”€â–¶ Speech Ends (t=2000ms)

  START: Camera Initialization    â”‚

         â”‚    â”œâ”€ [2000ms â”€â”€ 2150ms] STT Processing (Vosk Inference)

         â–¼    â”‚                     â”œâ”€ Audio buffering: 50ms

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                     â”œâ”€ Vosk recognition: 100ms

    â”‚  Start rpicam-vid   â”‚    â”‚                     â””â”€ Queue put: <1ms

    â”‚  â€¢ Resolution: 320x240    â”‚

    â”‚  â€¢ FPS: 10          â”‚    â””â”€â–¶ Transcript Ready: "hello" (t=2150ms)

    â”‚  â€¢ Format: RGB24    â”‚        â”‚

    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”œâ”€ [2150ms â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2850ms] LLM Processing (Ollama)

               â”‚        â”‚                               â”œâ”€ Queue get: <1ms

               â–¼        â”‚                               â”œâ”€ HTTP call: 10ms

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                               â”œâ”€ Qwen2.5 inference: 680ms

    â”‚  Load YuNet Model   â”‚        â”‚                               â””â”€ Queue put: <1ms

    â”‚  â€¢ INT8 quantized   â”‚        â”‚

    â”‚  â€¢ Size: 2.5MB      â”‚        â””â”€â–¶ Response Ready: "Hi there!" (t=2850ms)

    â”‚  â€¢ Input: 320x240   â”‚            â”‚

    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”œâ”€ [2850ms â”€â”€â”€â”€ 3150ms] TTS Processing (Piper)

               â”‚            â”‚                        â”œâ”€ Queue get: <1ms

               â–¼            â”‚                        â”œâ”€ Piper synthesis: 250ms

    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—            â”‚                        â”œâ”€ WAV write: 50ms

    â•‘        MAIN DETECTION LOOP                â•‘            â”‚                        â””â”€ Playback start: <1ms

    â•‘                                           â•‘            â”‚

    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â•‘            â””â”€â–¶ User Hears Response (t=3150ms)

    â•‘  â”‚  Read Frame      â”‚                    â•‘                â”‚

    â•‘  â”‚  from Camera     â”‚                    â•‘                â””â”€ [3150ms â”€â”€ 4000ms] Audio Playback Duration

    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â•‘                                      (depends on response length)

    â•‘           â”‚                               â•‘

    â•‘           â–¼                               â•‘â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   Skip?            â•‘Breakdown:

    â•‘  â”‚  Frame Skip      â”‚â”€â”€â”€â”€Yesâ”€â”€â–¶ Continue â•‘  STT:   150ms  (6.5% of total)

    â•‘  â”‚  (Process 1/3)   â”‚                    â•‘  LLM:   700ms  (30% of total) âš ï¸ BOTTLENECK

    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â•‘  TTS:   300ms  (13% of total)

    â•‘           â”‚ No                            â•‘  Play:  850ms  (36% of total, unavoidable)

    â•‘           â–¼                               â•‘  Other: 300ms  (13%, user speaking time not counted)

    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â•‘Total: 2300ms (user-perceived latency from silence to hearing response)

    â•‘  â”‚ YuNet Inference  â”‚                    â•‘```

    â•‘  â”‚ (~50-80ms)       â”‚                    â•‘

    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â•‘---

    â•‘           â”‚                               â•‘

    â•‘           â–¼                               â•‘## ğŸ—ï¸ Directory Structure

    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â•‘

    â•‘  â”‚  Faces Detected? â”‚â”€â”€â”€â”€Noâ”€â”€â–¶           â•‘```

    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚          â•‘pluto/

    â•‘           â”‚ Yes                â–¼          â•‘â”‚

    â•‘           â–¼          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘â”œâ”€â”€ ğŸ“„ README.md                    # Project overview

    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  Check Face     â”‚ â•‘â”œâ”€â”€ ğŸ“„ QUICKSTART.md                # 5-minute setup guide

    â•‘  â”‚  Filter by       â”‚â”‚  Lost Timeout   â”‚ â•‘â”œâ”€â”€ ğŸ“„ DOCUMENTATION.md             # Complete technical reference

    â•‘  â”‚  Confidence      â”‚â”‚  (1.5s)         â”‚ â•‘â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md              # Design decisions

    â•‘  â”‚  (threshold:0.6) â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘â”œâ”€â”€ ğŸ“„ DIAGRAMS.md                  # This file - visual references

    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚        â•‘â”œâ”€â”€ ğŸ“„ FILE_INDEX.md                # Navigation guide

    â•‘           â”‚              Timeout?â”‚        â•‘â”‚

    â•‘           â–¼                      â–¼        â•‘â”œâ”€â”€ ğŸ“„ run.py                       # Entry point

    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘â”œâ”€â”€ ğŸ“„ requirements.txt             # Python dependencies

    â•‘  â”‚  Face Locked?    â”‚   â”‚ Emit:        â”‚ â•‘â”œâ”€â”€ ğŸ“„ setup.py                     # Package configuration

    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ face_lost    â”‚ â•‘â”œâ”€â”€ ğŸ“„ .env.example                 # Environment template

    â•‘           â”‚              â”‚ Unlock face  â”‚ â•‘â”œâ”€â”€ ğŸ“„ .gitignore                   # Git exclusions

    â•‘     No    â”‚   Yes        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘â”œâ”€â”€ ğŸ“„ LICENSE                      # MIT License

    â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                        â•‘â”‚

    â•‘    â–¼             â–¼                        â•‘â”œâ”€â”€ ğŸ“ src/                         # Source code

    â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â•‘â”‚   â”œâ”€â”€ ğŸ“„ __init__.py              # Package initialization

    â•‘ â”‚  NEW    â”‚  â”‚ TRACKING â”‚                â•‘â”‚   â”œâ”€â”€ ğŸ“„ config.py                # Configuration system

    â•‘ â”‚  FACE   â”‚  â”‚ EXISTING â”‚                â•‘â”‚   â”œâ”€â”€ ğŸ“„ metrics_logger.py        # Performance tracking

    â•‘ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚   FACE   â”‚                â•‘â”‚   â”œâ”€â”€ ğŸ“„ orchestrator.py          # Main coordinator

    â•‘      â”‚       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                â•‘â”‚   â”‚

    â•‘      â–¼             â–¼                      â•‘â”‚   â””â”€â”€ ğŸ“ workers/                 # Worker modules

    â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â•‘â”‚       â”œâ”€â”€ ğŸ“„ __init__.py          # Worker exports

    â•‘ â”‚ Assign ID,             â”‚               â•‘â”‚       â”œâ”€â”€ ğŸ“„ stt_worker.py        # Speech-to-Text (Vosk)

    â•‘ â”‚ Lock onto face         â”‚               â•‘â”‚       â”œâ”€â”€ ğŸ“„ llm_worker.py        # Language Model (Ollama)

    â•‘ â”‚ Emit: face_detected    â”‚               â•‘â”‚       â””â”€â”€ ğŸ“„ tts_worker.py        # Text-to-Speech (Piper)

    â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â•‘â”‚

    â•‘      â”‚             â”‚                      â•‘â”œâ”€â”€ ğŸ“ models/                      # Model storage (download separately)

    â•‘      â–¼             â–¼                      â•‘â”‚   â”œâ”€â”€ ğŸ“„ .gitkeep                 # Preserve directory

    â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘â”‚   â”œâ”€â”€ ğŸ“ vosk-model-small-en-us-0.15/  (download)

    â•‘ â”‚  Terminal Preview (Optional)   â”‚       â•‘â”‚   â””â”€â”€ ğŸ“„ en_US-lessac-medium.onnx      (download)

    â•‘ â”‚  â€¢ Draw ASCII art frame        â”‚       â•‘â”‚

    â•‘ â”‚  â€¢ Show detection boxes        â”‚       â•‘â”œâ”€â”€ ğŸ“ logs/                        # Metrics output

    â•‘ â”‚  â€¢ Display FPS, state          â”‚       â•‘â”‚   â”œâ”€â”€ ğŸ“„ .gitkeep                 # Preserve directory

    â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘â”‚   â”œâ”€â”€ ğŸ“„ metrics_YYYYMMDD_HHMMSS.csv

    â•‘                â”‚                          â•‘â”‚   â”œâ”€â”€ ğŸ“„ metrics_YYYYMMDD_HHMMSS.json

    â•‘                â–¼                          â•‘â”‚   â””â”€â”€ ğŸ“„ summary_YYYYMMDD_HHMMSS.txt

    â•‘           Loop back â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”â”‚

    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚â””â”€â”€ ğŸ“ tests/                       # Test suite

                                                    â”‚    â””â”€â”€ ğŸ“„ test_integration.py      # Integration tests

                                                    â”‚```

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”‚---

    â–¼

  STOP: Camera Cleanup (SIGTERM â†’ SIGKILL if needed)## ğŸ”„ State Transition Diagram

```

```

---                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                    â”‚   UNINITIALIZED     â”‚

## ğŸ”— Data Flow Sequence                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                               â”‚ orchestrator.initialize()

```                               â–¼

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â•‘              END-TO-END INTERACTION SEQUENCE                       â•‘              â”Œâ”€â”€â”€â”€â–¶â”‚    INITIALIZING     â”‚â”€â”€â”€â”€â”

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ Worker fails

              â”‚                â”‚ All workers   â”‚

TIME    VISION          ORCHESTRATOR    STT         LLM         TTS              â”‚                â”‚ start OK      â–¼

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚                â–¼            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

t=0s    Scanning...     State: IDLE     PAUSED      -           -              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  ERROR   â”‚

        (5 fps)              â”‚     â”‚      READY          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

t=0.2s  Face detected!                â”‚                â”‚ orchestrator.run()

        face_id: 123                  â”‚                â–¼

        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

              â”‚     â”‚      RUNNING        â”‚â—€â”€â”€â”€â”€â”

t=0.3s                  State: LOCKED              â”‚     â”‚  (Processing audio) â”‚     â”‚ Continuous

                        Lock face 123              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ operation

                        Inject greeting              â”‚                â”‚                â”‚

                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ "Hi there!"              â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              â”‚                â”‚

t=0.4s                                                          LLM thinks              â”‚                â”‚ SIGINT / SIGTERM / Ctrl+C

                                                                (2-3s)              â”‚                â–¼

              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

t=2.7s                                              Response:               â””â”€â”€â”€â”€â”€â”‚    SHUTTING DOWN    â”‚

                                                    "Hello! How                    â”‚ (Cleanup resources) â”‚

                                                     can I help?"                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                               â”‚

                               â–¼

t=2.8s                                                          Piper                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                                                                synthesizes                    â”‚      STOPPED        â”‚

                                                                (300ms)                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

t=3.1s                  State: GREETING                         Playing...

                                                                ğŸ”Š---



t=4.5s  Tracking face   State: LISTENING  RESUMED## ğŸ“Š Memory Usage Over Time

        (background)    Resume STT        Listening...

                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶```

Memory (MB)

t=5.0s                                    User speaks:3000 â”‚                                  â”Œâ”€ LLM Peak (inference)

                                          "What's the     â”‚                                  â”‚

                                          weather?"2500 â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

     â”‚                    â”‚             â”‚

t=5.8s                                    Transcription2000 â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â””â”€ LLM Idle

                                          complete     â”‚         â”‚          â”‚

                                          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶1500 â”‚    â”Œâ”€â”€â”€â”€â”¤          â”‚

     â”‚    â”‚    â”‚          â””â”€ TTS Active

t=5.9s                  State: PROCESSING             LLM thinks1000 â”‚    â”‚    â”‚

                                          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ (3s)     â”‚    â”‚    â””â”€ STT Active

 500 â”‚    â”‚

t=8.9s                                                Response:     â”‚â”€â”€â”€â”€â”˜â”€ Baseline (orchestrator + config)

                                                      "It's    0 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â–¶ Time

                                                      sunny!"        Init  STT  LLM  TTS Conv Conv Conv  Idle

                                                      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶             warm warm warm  #1   #2   #3



t=9.0s                  State: RESPONDING                       SynthesizingBaseline: ~50MB (Python + orchestrator)

                                                                (250ms)+ STT:    ~150MB (Vosk model loaded)

+ LLM:    ~2GB (Qwen2.5 during inference, ~1.5GB idle)

t=9.3s                                                          Playing ğŸ”Š+ TTS:    ~200MB (Piper model loaded)

                                                                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶Peak:     ~2.5GB (LLM inference + all components)

```

t=10.5s                 State: LISTENING  Listening

                        (loop continues)  again...---



...## ğŸ¯ Bottleneck Identification



t=15.0s Face lost!```

        (timeout 1.5s)COMPONENT LATENCY COMPARISON (Typical Values)

        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

STT (Vosk)           â–ˆâ–ˆâ–ˆâ–ˆ 150ms          âš¡ Fast

t=15.1s                 State: FACE_LOST                     

                        Pause STT

                        Clear historyLLM (Qwen2.5)        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 850ms  âš ï¸  BOTTLENECK

                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  PAUSED                     

                        

t=15.2s Scanning...     State: IDLE      PAUSED      -          -TTS (Piper)          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 300ms       âœ… Acceptable

        (loop restarts)                     

```

Audio Playback       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 600ms    â¸ï¸  Unavoidable

---                     (depends on response length)



## ğŸ“Š Performance Breakdown - Raspberry Pi 4

0ms        200ms      400ms      600ms      800ms     1000ms

```â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â•‘           COMPONENT PERFORMANCE (Raspberry Pi 4, 4GB RAM)          â•‘OPTIMIZATION PRIORITIES:

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•1. ğŸ”´ LLM inference (try smaller model, better quantization, GPU?)

2. ğŸŸ¡ TTS synthesis (try smaller Piper model for speed)

VISION WORKER (YuNet)3. ğŸŸ¢ STT already optimal for offline use

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”```

â”‚  Camera Read        â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  10-20ms â”‚

â”‚  YuNet Inference    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  50-80ms â”‚---

â”‚  Face Tracking      â”‚â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚   5-10ms â”‚

â”‚  Event Queue        â”‚â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚   1-2ms  â”‚## ğŸ”Œ External Dependencies

â”‚  TOTAL/FRAME        â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  66-112msâ”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜```

CPU: 15-25% (single core)  |  Memory: ~50MB  |  FPS: ~5 (effective)                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

                    â•‘    PLUTO COMPONENTS      â•‘

STT WORKER (Whisper Tiny)                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚

â”‚  Audio Capture      â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  20-50ms â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚  VAD Detection      â”‚â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚   5-15ms â”‚        â”‚                      â”‚                      â”‚

â”‚  Whisper Inference  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ 500-1000msâ”‚        â–¼                      â–¼                      â–¼

â”‚  Queue Output       â”‚â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚   1-5ms  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚  TOTAL/UTTERANCE    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ 526-1070msâ”‚â”‚ Vosk Library  â”‚      â”‚   Ollama     â”‚      â”‚    Piper     â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  (Embedded)   â”‚      â”‚   Server     â”‚      â”‚   Binary     â”‚

CPU: 70-90% (during transcription)  |  Memory: ~200MBâ””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜

        â”‚                     â”‚                      â”‚

LLM WORKER (Qwen2.5:0.5b)        â–¼                     â–¼                      â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚  Ollama API Call    â”‚â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  50-100msâ”‚â”‚ Vosk Model    â”‚      â”‚  Qwen2.5     â”‚      â”‚ Piper Model  â”‚

â”‚  Token Generation   â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ 2000-4000msâ”‚â”‚ vosk-model-   â”‚      â”‚  Model       â”‚      â”‚ en_US-lessac â”‚

â”‚  Streaming Buffer   â”‚â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  10-50ms â”‚â”‚ small-en-us   â”‚      â”‚  (pulled)    â”‚      â”‚ -medium.onnx â”‚

â”‚  Queue Output       â”‚â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚   1-5ms  â”‚â”‚ ~40MB         â”‚      â”‚  ~1GB        â”‚      â”‚ ~60MB        â”‚

â”‚  TOTAL/RESPONSE     â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ 2061-4155msâ”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CPU: 80-100% (during generation)  |  Memory: ~400MB  |  Tokens/s: 5-8Download locations:

â€¢ Vosk: https://alphacephei.com/vosk/models

TTS WORKER (Piper)â€¢ Ollama: ollama pull qwen2.5:0.5b-instruct-q4_k_M

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â€¢ Piper: https://github.com/rhasspy/piper/releases

â”‚  Text Parsing       â”‚â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  10-20ms â”‚```

â”‚  Piper Synthesis    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚ 200-400msâ”‚

â”‚  WAV Generation     â”‚â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  20-50ms â”‚---

â”‚  Audio Playback     â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  30-80ms â”‚

â”‚  TOTAL/SENTENCE     â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚ 260-550msâ”‚**All diagrams represent the actual implemented architecture.**  

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜See [ARCHITECTURE.md](ARCHITECTURE.md) for design rationale and [DOCUMENTATION.md](DOCUMENTATION.md) for code reference.

CPU: 40-60% (during synthesis)  |  Memory: ~100MB

SYSTEM TOTALS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Idle (Vision only) â”‚ CPU: 5-10%    Memory: 250MB            â”‚
â”‚  Active (All)       â”‚ CPU: 90-100%  Memory: 800MB-1GB        â”‚
â”‚  Faceâ†’Greeting      â”‚ ~1-2 seconds                           â”‚
â”‚  Userâ†’Response      â”‚ ~4-7 seconds (end-to-end)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BOTTLENECKS (in order):
1. ğŸ”´ LLM Inference    (2-4s) - MAJOR bottleneck
2. ğŸŸ  STT Processing   (0.5-1s) - Secondary bottleneck  
3. ğŸŸ¢ Vision Detection (66-112ms) - Minimal impact
4. ğŸŸ¢ TTS Synthesis    (260-550ms) - Acceptable
```

---

## ğŸ§ª Testing & Monitoring

### Test Scenarios

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     CRITICAL TEST SCENARIOS                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TEST 1: Vision System Performance
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Start system with vision worker only               â”‚
â”‚  2. Move face in/out of camera view                    â”‚
â”‚  3. Monitor:                                           â”‚
â”‚     â€¢ Face detection latency (should be <100ms)        â”‚
â”‚     â€¢ False positive rate (should be <5%)              â”‚
â”‚     â€¢ FPS (should maintain ~5 fps)                     â”‚
â”‚     â€¢ CPU usage (should be <30%)                       â”‚
â”‚  4. Run for 10 minutes, check stability                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TEST 2: Face Lock/Unlock Behavior  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Appear in front of camera                          â”‚
â”‚  2. Verify greeting plays within 2 seconds             â”‚
â”‚  3. Walk away from camera                              â”‚
â”‚  4. Verify face_lost event after 1.5s timeout          â”‚
â”‚  5. Return to camera                                   â”‚
â”‚  6. Verify new greeting (fresh conversation)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TEST 3: End-to-End Latency
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Measure: Face appears â†’ Greeting plays                â”‚
â”‚  Expected: 1-2 seconds                                 â”‚
â”‚  Measure: User speaks â†’ Response plays                 â”‚
â”‚  Expected: 4-7 seconds                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TEST 4: Long-Running Stability
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Run system for 1 hour                              â”‚
â”‚  2. Simulate 10+ face lock/unlock cycles               â”‚
â”‚  3. Monitor:                                           â”‚
â”‚     â€¢ Memory leaks (should stay <1.2GB)                â”‚
â”‚     â€¢ CPU temperature (should stay <75Â°C)              â”‚
â”‚     â€¢ Camera process cleanup (no zombie processes)     â”‚
â”‚     â€¢ Queue overflow (should never happen)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TEST 5: Multiple Face Handling
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Have 2+ people in frame                            â”‚
â”‚  2. Verify locks onto closest/largest face             â”‚
â”‚  3. Verify ignores other faces while locked            â”‚
â”‚  4. Locked person leaves, verify unlock                â”‚
â”‚  5. Verify locks onto remaining person                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Metrics Dashboard (Conceptual)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    PLUTO METRICS DASHBOARD                         â•‘
â•‘                   (logs/metrics_*.csv/json)                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VISION METRICS                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  FPS:           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 5.2                                       â”‚
â”‚  Latency:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 67ms                                   â”‚
â”‚  Face Locked:   ğŸŸ¢ YES (ID: 12345)                              â”‚
â”‚  Lock Duration: 45.3s                                           â”‚
â”‚  Face Count:    â–ˆ 1                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ STT METRICS                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Latency:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 823ms                          â”‚
â”‚  Status:        ğŸŸ¢ ACTIVE (Listening)                           â”‚
â”‚  Last Text:     "what's the weather"                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LLM METRICS                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Latency:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 3214ms               â”‚
â”‚  Tokens:        â–ˆâ–ˆâ–ˆâ–ˆ 42                                         â”‚
â”‚  Last Response: "It's sunny and 75Â°F today!"                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TTS METRICS                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Latency:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 312ms                                   â”‚
â”‚  Audio Length:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 2.8s                                     â”‚
â”‚  Status:        ğŸ”Š PLAYING                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SYSTEM METRICS                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CPU:           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 92%                    â”‚
â”‚  Memory:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 847 MB                         â”‚
â”‚  Temperature:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 68Â°C                               â”‚
â”‚  Queue Sizes:   Vision:2  STTâ†’LLM:0  LLMâ†’TTS:1                  â”‚
â”‚  Uptime:        02:34:12                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Performance Indicators (KPIs):
âœ… Vision FPS > 4                    âœ… Achieved (5.2)
âœ… Face detection < 100ms            âœ… Achieved (67ms)
âš ï¸  STT latency < 800ms              âš ï¸  Borderline (823ms)
âŒ LLM latency < 2000ms              âŒ Exceeded (3214ms)
âœ… TTS latency < 500ms               âœ… Achieved (312ms)
âœ… Memory < 1GB                      âœ… Achieved (847MB)
âš ï¸  CPU < 80% (sustainable)          âš ï¸  High (92%)
```

---

**Last Updated**: October 17, 2025  
**Diagram Version**: 2.0 (Vision-Driven Architecture)
